define(["Items","PorteRadioFactory","LummingFactory","ColorEnum"],function(t,r,e,o){var n=null,i=function(t,e,o){var i=n.add.group();rond=n.add.graphics(0,0),rond.beginFill(15794175,.1),rond.drawCircle(0,0,o),texture=rond.generateTexture(),rond.destroy(),Phaser.Sprite.call(this,n,t,e,texture),this.anchor.set(.5,.5),this.door=r.create(t,e),i.add(this.door),this.lastOverlapped=null};return i.prototype=Object.create(Phaser.Sprite.prototype),i.prototype.constructor=i,i.prototype.getDoor=function(){return this.door},i.prototype.getOverlap=function(){return this.lastOverlapped},i.prototype.setOverlap=function(t,r){t.color==o.getColorEnum().RADIO&&(this.door.ouvrir(),this.lastOverlapped=r)},i.prototype.ouvert=function(){this.door.ouvrir()},i.prototype.ferme=function(){this.door.fermer()},i.prototype.update=function(){this.getOverlap()&&n.time.now>this.getOverlap()&&this.ferme()},{init:function(e){n=e,t.init(n),r.init(n)},create:function(t,r,e){return new i(t,r,e)}}});