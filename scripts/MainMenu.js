define(["Images","MusicFactory","Transition","LevelSelection"],function(n,t,e,l){function o(){s.kill(),e.nextState("LevelSelection",null)}function u(){w.kill(),e.nextState("LevelFactory",m)}function r(){M.kill(),e.nextState("Level2",m)}var a=null,i=null,c=null,d=null,f=null,h=null,s=null,w=null,M=null,m=null,b={preload:function(){c=new Phaser.Point(a.world.centerX-216,a.world.centerY-66),d=new Phaser.Point(a.world.centerX-20,a.world.centerY-100)},create:function(){0==m.isPlaying()&&m.play(),n.boot().create(),h=a.add.sprite(c.x,c.y,"logo"),f=a.add.group(),f.scale.set(a.world.width/1024,a.world.height/768),f.add(w=a.make.button(-5*Math.round(10*Math.random()),a.world.centerY+160,"button",u,a,3,4,5)),f.add(s=a.make.button(-5*Math.round(10*Math.random()),a.world.centerY+100,"button",o,a,0,1,2)),f.add(M=a.make.button(-5*Math.round(10*Math.random()),a.world.centerY+220,"button",r,a,6,7,8))},update:function(){f.forEach(function(n){n.x+=Math.min(30,(d.x-n.x)/4)})}};return{init:function(n,t){a=n,i=t},setMusic:function(n){m=n,l.setMusic(m)},getMainMenu:function(){return b}}});