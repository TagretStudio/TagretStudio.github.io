define(["Images","LummingFactory","VisibleLummingFactory","ColorEnum","MusicFactory","PlatformFactory","DoorsFactory","MenuFactoryTest","VisionEnum","Transition","FilterFactory","RadioLummingFactory","ItemsLevel","MiroirFactory","GammaLummingFactory","PorteRadioFactory","PorteWithAuraFactory"],function(e,t,o,a,n,r,i,u,d,l,c,s,p,m,g,f,y){function h(e,t){var o=e.collideWithDoor(t);1==o&&(L+=1,text.setText(L+"/"+v))}function E(e,t){9==e.color?t.isPb&&b.physics.arcade.collide(e,t,E,null,b):b.physics.arcade.collide(e,t,E,null,b)}function D(){b.add.sprite(0,0,"transitionBackground"),b.add.sprite(184,265,"logo");null!=_&&(_.getMusic().fadeOut(700),_.getMusic().onFadeComplete.dispatch(),_.getMusic().onFadeComplete.addOnce(function(){_=null,R=d.getVisionEnum().VISIBLE,b.state.start("Level1Demo")},b))}function F(){b.add.sprite(0,0,"transitionBackground"),b.add.sprite(184,265,"logo");null!=_&&(_.getMusic().fadeOut(700),_.getMusic().onFadeComplete.dispatch(),_.getMusic().onFadeComplete.addOnce(function(){_=null,b.state.start("MainMenu")},b))}var b,v=0,L=0,B=null,C=null,M=null,_=null,P=null,R=null,I=null,V=null,x={preload:function(){_=n.create("level1","media/audio/Level 1.ogg"),b.load.image("buttonDiamond","media/img/menuButton.png"),b.load.image("buttonRefresh","media/img/refresh.png"),b.load.image("cliquez","media/img/cliquezPourCommencer.png"),u.init(b),r.init(b),o.init(b),g.init(b),f.init(b),y.init(b)},create:function(){L=0,_.play(),e.boot().create(),b.physics.startSystem(Phaser.Physics.ARCADE),R=d.getVisionEnum().VISIBLE,C=b.add.group(),C.enableBody=!0,platform1=r.create(100,300,!1),platform2=r.create(300,300,!1),C.add(platform1),C.add(platform2),I=b.add.group(),I.enableBody=!0,portetest=y.create(220,236,200),I.add(portetest),V=b.add.group(),V.enableBody=!0,I.forEach(function(e){V.add(e.getDoor())}),_groupDoors=b.add.group(),_groupDoors.enableBody=!0,door1=i.create(a.getColorEnum().RED,500,270),door2=i.create(a.getColorEnum().BLUE,400,270),_groupDoors.add(door1),_groupDoors.add(door2),M=b.add.group(),lum1=o.create(a.getColorEnum().RED,150,200,50),lum2=o.create(a.getColorEnum().BLUE,100,200,50),M.add(lum1),M.add(lum2),v=2,text=b.add.text(750,0,L+"/"+v,{align:"center"}),button_menu=b.add.button(32,0,"buttonDiamond",F,b),button_restart=b.add.button(650,0,"buttonRefresh",D,b),P=u.create([1,2,3,4,5,6,7,8,9,10,11,12,13]),p.reinit(b);var t=this.add.sprite(100,300,"cliquez");t.scale.set(.7,.7),b.input.onDown.add(function(){b.paused&&(b.paused=!1,t.destroy())},b),b.paused=!0,p.setgroup(M)},update:function(){P.update(),b.physics.arcade.overlap(M,C,E,null,b),b.physics.arcade.overlap(M,C,E,null,b),b.physics.arcade.overlap(M,I,function(e,t){t.setOverlap(e,b.time.now+100)}),b.physics.arcade.collide(M,V),b.physics.arcade.overlap(M,_groupDoors,h,null,b),M.forEach(function(e){e.update(R)}),_groupDoors.forEach(function(e){e.update()}),I.forEach(function(e){e.update()}),v==L&&l.nextState("Level2Demo",_)}};return{init:function(e,t){b=e,B=t},getLevel1Demo:function(){return x}}});