define(["./Images","./MusicFactory","./MainMenu","Transition","LevelFactory"],function(t,e,n,o,r){function a(){r.setLevel(s+10*f),o.nextState("LevelFactory",h)}function i(t,e){var n=f,o=s;if(f=(f+t+10)%10,s=(s+e+10)%10,dizaineSprite.frame=f,d.frame=s,o!=s){var r;l.add(r=u.add.sprite(d.x,d.y,d.key,d.frame)),r.anchor.set(.5,.5),r.angle=Math.random()*Math.PI-Math.PI/2}if(n!=f){var r;l.add(r=u.add.sprite(dizaineSprite.x,dizaineSprite.y,dizaineSprite.key,dizaineSprite.frame)),r.anchor.set(.5,.5),r.angle=Math.random()*Math.PI+Math.PI/2}}var d,l,u=null,c=null,s=1,f=0,h=null,p=null,m=null,w={preload:function(){m=new Phaser.Point(u.world.centerX-216,u.world.centerY-66),_pointButtons=new Phaser.Point(u.world.centerX,u.world.centerY-20),u.load.spritesheet("buttonplusmoins","media/img/buttonplusmoins.png",38,38),u.load.spritesheet("button","media/img/MenuButtons.png",278,63),u.load.spritesheet("chiffres","media/img/chiffres.png",47,65)},create:function(){t.boot().create(),p=u.add.group(),p.scale.set(u.world.width/1024,u.world.height/768),p.add(_buttonPlus=u.make.button(1024*u.world.centerX/800+40,u.world.centerY,"buttonplusmoins",function(){i(0,1)},u,0,1,2)),p.add(_buttonMoins=u.make.button(1024*u.world.centerX/800+40,u.world.centerY+150,"buttonplusmoins",function(){i(0,-1)},u,3,4,5)),p.add(_buttonPlus=u.make.button(1024*u.world.centerX/800-40,u.world.centerY,"buttonplusmoins",function(){i(1,0)},u,0,1,2)),p.add(_buttonMoins=u.make.button(1024*u.world.centerX/800-40,u.world.centerY+150,"buttonplusmoins",function(){i(-1,0)},u,3,4,5)),p.add(_buttonPlay=u.make.button(1024*u.world.centerX/800,u.world.centerY+300,"button",a,u,0,1,2)),p.forEach(function(t){t.anchor.set(.5,.5),t.scale.set(2,2)}),dizaineSprite=u.add.sprite(u.world.centerX-40,u.world.centerY,"chiffres",f),d=u.add.sprite(u.world.centerX+40,u.world.centerY,"chiffres",s),dizaineSprite.anchor.set(.5,.5),d.anchor.set(.5,.5),l=u.add.group()},update:function(){l.forEach(function(t){t.alpha=Math.max(t.alpha-.1,0),t.x+=2*Math.cos(t.angle),t.y+=2*Math.sin(t.angle),0==t.alpha&&t.kill()})}};return{init:function(t,e){u=t,c=e},setMusic:function(t){h=t},getLevelSelection:function(){return w}}});