define(["PlatformFactory","LummingFactory","VisibleLummingFactory","ColorEnum","DoorsFactory","XLummingFactory","MicroLummingFactory","IceFactory","PorteWithAuraFactory","WaterFactory"],function(o,t,r,e,i,s,a,u,l,m){function n(o,t,r){null==t&&(t=0),null==r&&(r=32),d.add.text(t,r,o,{wordWrap:!0,wordWrapWidth:d.world.width,fill:"#ffffff",stroke:"#000000",strokeThickness:2})}var d=null,g=function(t){switch(this.indexLevel=t,this.groupPlatforms=d.add.group(),this.groupLummings=d.add.group(),this.groupDoors=d.add.group(),this.groupElements=d.add.group(),this.groupDoorsRadioAura=d.add.group(),this.groupPlatforms.enableBody=!0,this.groupDoors.enableBody=!0,this.groupDoorsRadioAura.enableBody=!0,this.nbLummingsWin=0,this.tabAvailableObjects=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],t+1){case 1:doorRadio1=l.create(380,236,200),this.groupDoorsRadioAura.add(doorRadio1),platform1=o.create(100,300,!1),this.groupPlatforms.add(platform1),platform(this.groupPlatforms,200,236,600,!1),door1=i.create(e.getColorEnum().RED,500,270),door2=i.create(e.getColorEnum().BLUE,400,270),this.groupDoors.add(door1),this.groupDoors.add(door2),lum1=r.create(e.getColorEnum().RED,150,200,50),lum2=r.create(e.getColorEnum().BLUE,100,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.nbLummingsWin=2,lumX=s.create(380,200,70),this.groupLummings.add(lumX),lumM=a.create(150,100,50),this.groupLummings.add(lumM),icePit(this,platform1.right+32,300,64),this.tabAvailableObjects=[1,2,3,4,5,6,7,8,9,10,11,12,13],n("car il ne sert de rien de dire qu'il est certain que l'on hasarde, et qu'il est incertain si l'on gagnera, et que l'infinie distance qui est entre la certitude de ce qu'on s'expose et l'incertitude de ce qu'on gagnera égale le bien fini, qu'on expose à l'infini, qui est incertain.");break;case 2:platform(this.groupPlatforms,100,300,600),door1=i.create(e.getColorEnum().RED,500,270),door2=i.create(e.getColorEnum().BLUE,400,270),this.groupDoors.add(door1),this.groupDoors.add(door2),lum1=r.create(e.getColorEnum().RED,250,200,50),lum2=r.create(e.getColorEnum().BLUE,200,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,0,0,0],n("Le but du jeu est de faire passer les lummings de couleur par les portes de même couleur");break;case 3:platform(this.groupPlatforms,100,300,600),door1=i.create(e.getColorEnum().MAGENTA,500,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().WHITE,150,200,50),this.groupLummings.add(lum1),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,1,0,0],n("Utilisez les filtres à votre disposition pour changer la couleur des lummings. Les filtres soustractifs suppriment toute composante de couleur autre que celle indiquée sur le filtre.");break;case 4:platform(this.groupPlatforms,100,300,600),door1=i.create(e.getColorEnum().BLUE,500,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().WHITE,150,200,50),this.groupLummings.add(lum1),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,1,1,1],n("La soustraction n'est pas toujours aussi simple...");break;case 5:platform(this.groupPlatforms,100,300,600),door1=i.create(e.getColorEnum().CYAN,500,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,150,200,50),lum2=r.create(e.getColorEnum().WHITE,100,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,0,1,0],n("Si vous supprimez toutes ses couleurs à un lumming, il meurt. Mais regardez en haut à droite, vous n'avez pas forcément à tous les sauver...");break;case 6:platform(this.groupPlatforms,100,300,600),door1=i.create(e.getColorEnum().MAGENTA,500,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,150,200,50),this.groupLummings.add(lum1),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,1,0,0,0],n("Les additifs, contrairement aux soustractifs, ajoutent la couleur du filtre au lumming");break;case 7:platform(this.groupPlatforms,100,300,600),door1=i.create(e.getColorEnum().YELLOW,500,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,150,200,50),lum2=r.create(e.getColorEnum().WHITE,100,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,1,0,0,0,1],n("Dans ce jeu, on vous demandera donc d'utiliser les filtres additifs et soustractifs habilement afin de sauver les lummings de couleur");break;case 8:platform(this.groupPlatforms,100,300,460),platform(this.groupPlatforms,0,280,110,!0,!0),platform(this.groupPlatforms,550,280,110,!0,!0),doorRadio1=l.create(300,236,150),this.groupDoorsRadioAura.add(doorRadio1),door1=i.create(e.getColorEnum().YELLOW,450,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().YELLOW,150,200,50),lum2=r.create(e.getColorEnum().YELLOW,130,200,50),lum3=r.create(e.getColorEnum().YELLOW,110,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,0,0,1,0,0,0,0,0,0,0],n("En vous servant de la reglette en bas à gauche, vous changez de niveau de vision. Essayez l'antenne radio: elle génère un lumming \"radio\" qui est capable d'ouvrir les portes antennes");break;case 9:platform(this.groupPlatforms,100,300,600),doorRadio1=l.create(300,236,150),doorRadio2=l.create(500,236,150),this.groupDoorsRadioAura.add(doorRadio1),this.groupDoorsRadioAura.add(doorRadio2),door1=i.create(e.getColorEnum().CYAN,120,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().GREEN,400,200,50),this.groupLummings.add(lum1),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,1,1,1,1,1,0,0,0];break;case 10:platform(this.groupPlatforms,80,150,100),platform(this.groupPlatforms,0,300,300),waterPit(this,300,300,64),platform(this.groupPlatforms,330,200,150),door1=i.create(e.getColorEnum().MAGENTA,450,170),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,60,250,50),lum2=r.create(e.getColorEnum().MAGENTA,90,250,50),lum3=r.create(e.getColorEnum().BLUE,120,250,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),lumM=a.create(100,100,60),this.groupLummings.add(lumM),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,0,0,0],n('Les lummings "micro-onde" génèrent de la vapeur au dessus de l\'eau. Cela peut etre utile...');break;case 11:platform(this.groupPlatforms,100,300,400),platform(this.groupPlatforms,540,210,100,!1),icePit(this,500,300,64),door1=i.create(e.getColorEnum().RED,620,180),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,120,200,50),lum2=r.create(e.getColorEnum().BLUE,100,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),lumX=s.create(250,200,70),this.groupLummings.add(lumX),lumM=a.create(200,200,50),this.groupLummings.add(lumM),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,1,1,1],n("Les lummings \"X\" font fondre la glace, révélant de l'eau. Vous savez ce qu'il vous reste à faire...");break;case 12:platform(this.groupPlatforms,100,300,600,!0,!0),platform(this.groupPlatforms,50,150,200,!0,!0),door1=i.create(e.getColorEnum().MAGENTA,620,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().WHITE,120,100,50),lum2=r.create(e.getColorEnum().WHITE,140,100,50),lum3=r.create(e.getColorEnum().WHITE,160,100,50),lum4=r.create(e.getColorEnum().BLUE,150,250,50),lum5=r.create(e.getColorEnum().BLUE,170,250,50),lum6=r.create(e.getColorEnum().BLUE,190,250,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),this.groupLummings.add(lum4),this.groupLummings.add(lum5),this.groupLummings.add(lum6),lumX=s.create(80,100,60),this.groupLummings.add(lumX),this.nbLummingsWin=4,this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,1,1,1],n('Mais les lummings "X" sont nocifs pour les autres lummings. Protégez les !');break;case 13:platform(this.groupPlatforms,300,100,250,!0,!0),platform(this.groupPlatforms,100,200,170,!0,!0),platform(this.groupPlatforms,350,200,260,!0,!0),platform(this.groupPlatforms,100,300,150,!0,!0),icePit(this,250,300,64),platform(this.groupPlatforms,314,300,400,!0,!0),platform(this.groupPlatforms,700,270,64,!0,!0),door1=i.create(e.getColorEnum().CYAN,130,170),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().GREEN,450,150,50),lum2=r.create(e.getColorEnum().GREEN,470,150,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),lumM=a.create(450,250,60),this.groupLummings.add(lumM),lumX=s.create(350,50,60),this.groupLummings.add(lumX),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,1,0,0,1,1,1,1,1,1];break;case 14:platform(this.groupPlatforms,100,200,250,!0,!0),platform(this.groupPlatforms,450,200,300,!0,!0),door1=i.create(e.getColorEnum().CYAN,150,170),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,460,150,50),lum2=r.create(e.getColorEnum().RED,485,150,50),lum3=r.create(e.getColorEnum().RED,510,150,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,2,1,0,0,1,1,1,1,1,1],n("Les miroirs reflètent très bien la lumière, pratique pour traverser du vide")}this.groupPlatforms.forEach(function(o){o.body.immovable=!0,null==o.collisionsSet&&(o.body.immovable=!0,o.body.checkCollision.down=!1,o.body.checkCollision.left=!1,o.body.checkCollision.right=!1,o.body.checkCollision.up=!0)})};return icePit=function(o,t,r,e){var i;o.groupElements.add(i=u.create(t,r)),i.width=e,pit(o,t,r,e)},waterPit=function(o,t,r,e){var i;o.groupElements.add(i=m.create(t,r)),i.width=e,pit(o,t,r,e)},pit=function(o,t,r,e){var i;o.groupElements.add(i=u.create(t,r)),i.width=e;var s;s=d.add.sprite(i.left,i.y,"platforms",3),s.anchor.set(1,0),o.groupPlatforms.add(s),s.body.checkCollision.down=!1,s.body.checkCollision.left=!1,s.body.checkCollision.right=!0,s.body.checkCollision.up=!0,s.collisionsSet=!0,s=d.add.sprite(i.right,i.y,"platforms",5),s.anchor.set(0,0),o.groupPlatforms.add(s),s.body.checkCollision.down=!1,s.body.checkCollision.left=!0,s.body.checkCollision.right=!1,s.body.checkCollision.up=!0,s.collisionsSet=!0,s=d.add.sprite(i.left,i.y+i.height,"platforms",12),s.anchor.set(1,0),o.groupPlatforms.add(s),s.body.checkCollision.down=!1,s.body.checkCollision.left=!1,s.body.checkCollision.right=!0,s.body.checkCollision.up=!0,s.collisionsSet=!0,s=d.add.sprite(t,i.y+3*i.height/2,"platforms",12),s.height/=2,s.anchor.set(0,0),o.groupPlatforms.add(s),s.width=e,s=d.add.sprite(i.right,i.y+i.height,"platforms",10),s.anchor.set(0,0),o.groupPlatforms.add(s),s=d.add.sprite(t,i.y+i.height,"platforms",14),s.anchor.set(0,0),o.groupPlatforms.add(s),s.width=e,s.body.checkCollision.down=!1,s.body.checkCollision.left=!1,s.body.checkCollision.right=!1,s.body.checkCollision.up=!1,s.collisionsSet=!0,i.kill()},platform=function(o,t,r,e,i,s){null==i&&(i=!1),null==s&&(s=!1);var a=d.add.sprite(0,0,"platforms",1),u=a.width;a.kill();for(var l,m=0;m<Math.floor(Math.floor(e/u)/2)+1;m++)l=d.add.sprite(t+e/2-m*u,r,"platforms",6),o.add(l),l.anchor.set(0,0),l=d.add.sprite(t+e/2+m*u,r,"platforms",6),o.add(l),l.anchor.set(1,0);l=d.add.sprite(t,r,"platforms",4),i||(l.frame+=2),o.add(l),l.body.checkCollision.down=!1,l.body.checkCollision.left=i,l.body.checkCollision.right=!1,l.body.checkCollision.up=!1,l.collisionsSet=!0,l=d.add.sprite(t+e,r,"platforms",2),s||(l.frame+=4),o.add(l),l.anchor.set(1,0),l.body.checkCollision.down=!1,l.body.checkCollision.left=!1,l.body.checkCollision.right=s,l.body.checkCollision.up=!1,l.collisionsSet=!0},g.prototype.getPlatforms=function(){return this.groupPlatforms},g.prototype.getElements=function(){return this.groupElements},g.prototype.getLummings=function(){return this.groupLummings},g.prototype.getDoors=function(){return this.groupDoors},g.prototype.getNbLummingsWin=function(){return this.nbLummingsWin},g.prototype.getTabAvailableObjects=function(){return this.tabAvailableObjects},g.prototype.getPorteRadioAura=function(){return this.groupDoorsRadioAura},{init:function(o){d=o,d.load.spritesheet("platforms","media/img/tiles3.png",32,32)},create:function(o){return new g(o)}}});