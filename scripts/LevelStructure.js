define(["PlatformFactory","LummingFactory","VisibleLummingFactory","ColorEnum","DoorsFactory","XLummingFactory","MicroLummingFactory","IceFactory","PorteWithAuraFactory","WaterFactory","GammaLummingFactory"],function(o,t,r,e,s,i,a,l,u,m,n){function d(o,t,r){null==t&&(t=0),null==r&&(r=32),g.add.text(t,r,o,{wordWrap:!0,wordWrapWidth:g.world.width,fill:"#ffffff",stroke:"#000000",strokeThickness:2})}var g=null,c=function(t){switch(this.indexLevel=t,this.groupPlatforms=g.add.group(),this.groupLummings=g.add.group(),this.groupDoors=g.add.group(),this.groupElements=g.add.group(),this.groupDoorsRadioAura=g.add.group(),this.groupPlatforms.enableBody=!0,this.groupDoors.enableBody=!0,this.groupDoorsRadioAura.enableBody=!0,this.nbLummingsWin=0,this.tabAvailableObjects=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],t){case 0:doorRadio1=u.create(380,236,200),this.groupDoorsRadioAura.add(doorRadio1),platform1=o.create(100,300,!1),this.groupPlatforms.add(platform1),platform(this.groupPlatforms,200,236,600,!1),door1=s.create(e.getColorEnum().RED,500,270),door2=s.create(e.getColorEnum().BLUE,400,270),this.groupDoors.add(door1),this.groupDoors.add(door2),lum1=r.create(e.getColorEnum().RED,150,200,50),lum2=r.create(e.getColorEnum().BLUE,100,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.nbLummingsWin=2,lumX=i.create(380,200,70),this.groupLummings.add(lumX),lumM=a.create(150,100,50),this.groupLummings.add(lumM),icePit(this,platform1.right+32,300,64),this.tabAvailableObjects=[1,2,3,4,5,6,7,8,9,10,11,12,13],d("car il ne sert de rien de dire qu'il est certain que l'on hasarde, et qu'il est incertain si l'on gagnera, et que l'infinie distance qui est entre la certitude de ce qu'on s'expose et l'incertitude de ce qu'on gagnera égale le bien fini, qu'on expose à l'infini, qui est incertain.");break;case 1:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().RED,500,270)),this.groupDoors.add(s.create(e.getColorEnum().BLUE,400,270)),this.groupLummings.add(r.create(e.getColorEnum().RED,250,200,50)),this.groupLummings.add(r.create(e.getColorEnum().BLUE,200,200,50)),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,0,0,0],d("Le but du jeu est de faire passer les lummings de couleur par les portes de même couleur");break;case 5:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().MAGENTA,500,270)),this.groupLummings.add(r.create(e.getColorEnum().WHITE,150,200,50)),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,1,0,0],d("Les filtres soustractifs suppriment toute composante de couleur autre que celle indiquée sur le filtre.");break;case 6:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().BLUE,500,270)),this.groupLummings.add(r.create(e.getColorEnum().WHITE,150,200,50)),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,1,1,1],d("La soustraction n'est pas toujours aussi simple...");break;case 7:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().CYAN,500,270)),this.groupLummings.add(r.create(e.getColorEnum().RED,150,200,50)),this.groupLummings.add(r.create(e.getColorEnum().WHITE,100,200,50)),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,0,0,1,0],d("Si vous supprimez toutes ses couleurs à un lumming, il meurt. Mais regardez en haut à droite, vous n'avez pas forcément à tous les sauver...");break;case 2:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().MAGENTA,500,270)),this.groupLummings.add(r.create(e.getColorEnum().RED,150,200,50)),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,0,1,0,0,0],d("Utilisez les filtres à votre disposition pour changer la couleur des lummings. Les filtres additifs ajoutent la couleur du filtre au lumming");break;case 3:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().CYAN,500,270)),this.groupLummings.add(r.create(e.getColorEnum().BLUE,150,200,50)),this.groupLummings.add(r.create(e.getColorEnum().CYAN,110,200,50)),this.nbLummingsWin=2,d("Si un lumming a une couleur comportant celle du filtre, il ne change pas"),this.tabAvailableObjects=[0,0,0,0,0,0,0,0,1,0,0,0,0];break;case 4:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().YELLOW,500,270)),this.groupLummings.add(r.create(e.getColorEnum().RED,150,200,50)),this.groupLummings.add(r.create(e.getColorEnum().YELLOW,110,200,50)),this.nbLummingsWin=2,d("Si vous avez un doute sur le filtre à placer, n'hésitez pas à consulter l'aide"),this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,0,0,0];break;case 8:platform(this.groupPlatforms,100,300,600),this.groupDoors.add(s.create(e.getColorEnum().YELLOW,500,270)),this.groupLummings.add(r.create(e.getColorEnum().RED,150,200,50)),this.groupLummings.add(r.create(e.getColorEnum().WHITE,100,200,50)),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,0,0,0,0,1,0,0,0,1],d("Dans ce jeu, on vous demandera donc d'utiliser les filtres additifs et soustractifs habilement afin de sauver les lummings de couleur");break;case 9:platform(this.groupPlatforms,100,300,460),platform(this.groupPlatforms,0,280,110,!0,!0),platform(this.groupPlatforms,550,280,110,!0,!0),this.groupDoorsRadioAura.add(u.create(300,236,150)),this.groupDoors.add(door1=s.create(e.getColorEnum().YELLOW,450,270)),this.groupLummings.add(r.create(e.getColorEnum().YELLOW,150,200,50)),this.groupLummings.add(r.create(e.getColorEnum().YELLOW,130,200,50)),this.groupLummings.add(r.create(e.getColorEnum().YELLOW,110,200,50)),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,0,0,1,0,0,0,0,0,0,0],d("En vous servant de la reglette en bas à gauche, vous changez de niveau de vision. Essayez l'antenne radio: elle génère un lumming \"radio\" qui est capable d'ouvrir les portes antennes");break;case 10:platform(this.groupPlatforms,100,300,600),this.groupDoorsRadioAura.add(u.create(300,236,150)),this.groupDoorsRadioAura.add(u.create(500,236,150)),this.groupDoors.add(s.create(e.getColorEnum().CYAN,120,270)),this.groupLummings.add(r.create(e.getColorEnum().GREEN,400,200,50)),this.nbLummingsWin=1,this.tabAvailableObjects=[0,0,0,0,0,1,1,1,1,1,0,0,0];break;case 11:platform(this.groupPlatforms,80,150,100),platform(this.groupPlatforms,0,300,300),waterPit(this,300,300,64),platform(this.groupPlatforms,330,200,150),this.groupDoors.add(s.create(e.getColorEnum().MAGENTA,450,170)),this.groupLummings.add(r.create(e.getColorEnum().RED,60,250,50)),this.groupLummings.add(r.create(e.getColorEnum().MAGENTA,90,250,50)),this.groupLummings.add(r.create(e.getColorEnum().BLUE,120,250,50)),this.groupLummings.add(a.create(100,100,60)),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,0,0,0],d('Les lummings "micro-onde" génèrent de la vapeur au dessus de l\'eau. Cela peut etre utile...');break;case 12:platform(this.groupPlatforms,100,300,400),platform(this.groupPlatforms,540,210,100,!1),icePit(this,500,300,64),door1=s.create(e.getColorEnum().RED,620,180),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,120,200,50),lum2=r.create(e.getColorEnum().BLUE,100,200,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),lumX=i.create(250,200,70),this.groupLummings.add(lumX),lumM=a.create(200,200,50),this.groupLummings.add(lumM),this.nbLummingsWin=2,this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,1,1,1],d("Les lummings \"X\" font fondre la glace, révélant de l'eau. Vous savez ce qu'il vous reste à faire...");break;case 13:platform(this.groupPlatforms,100,300,600,!0,!0),platform(this.groupPlatforms,50,150,200,!0,!0),door1=s.create(e.getColorEnum().MAGENTA,620,270),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().WHITE,120,100,50),lum2=r.create(e.getColorEnum().WHITE,140,100,50),lum3=r.create(e.getColorEnum().WHITE,160,100,50),lum4=r.create(e.getColorEnum().BLUE,150,250,50),lum5=r.create(e.getColorEnum().BLUE,170,250,50),lum6=r.create(e.getColorEnum().BLUE,190,250,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),this.groupLummings.add(lum4),this.groupLummings.add(lum5),this.groupLummings.add(lum6),lumX=i.create(80,100,60),this.groupLummings.add(lumX),this.nbLummingsWin=4,this.tabAvailableObjects=[0,0,0,0,0,0,0,1,1,1,1,1,1],d('Mais les lummings "X" sont nocifs pour les autres lummings. Protégez les !');break;case 14:platform(this.groupPlatforms,300,100,250,!0,!0),platform(this.groupPlatforms,100,200,170,!0,!0),platform(this.groupPlatforms,350,200,260,!0,!0),platform(this.groupPlatforms,100,300,150,!0,!1),icePit(this,250,300,64),platform(this.groupPlatforms,314,300,400,!1,!0),platform(this.groupPlatforms,700,270,64,!0,!0),door1=s.create(e.getColorEnum().CYAN,130,170),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().GREEN,450,150,50),lum2=r.create(e.getColorEnum().GREEN,470,150,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),lumM=a.create(450,250,60),this.groupLummings.add(lumM),lumX=i.create(350,50,60),this.groupLummings.add(lumX),this.nbLummingsWin=2,d("Les miroirs change la direction de (presque) tous les Lummings.."),this.tabAvailableObjects=[0,0,0,0,1,0,0,1,1,1,1,1,1];break;case 15:platform(this.groupPlatforms,100,200,250,!0,!0),platform(this.groupPlatforms,450,200,300,!0,!0),door1=s.create(e.getColorEnum().CYAN,150,170),this.groupDoors.add(door1),lum1=r.create(e.getColorEnum().RED,460,150,50),lum2=r.create(e.getColorEnum().RED,485,150,50),lum3=r.create(e.getColorEnum().RED,510,150,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,1,1,0,0,1,1,1,1,1,1],d("Les miroirs reflètent très bien la lumière, pratique pour traverser du vide");break;case 16:platformPlomb(this.groupPlatforms,690,170,60,!0,!0),platformPlomb(this.groupPlatforms,200,200,500,!0,!0),platformPlomb(this.groupPlatforms,100,300,600,!0,!0),platformPlomb(this.groupPlatforms,50,270,60,!0,!0),this.groupDoors.add(s.create(e.getColorEnum().RED,590,170)),this.groupDoors.add(s.create(e.getColorEnum().GREEN,620,170)),this.groupDoors.add(s.create(e.getColorEnum().BLUE,650,170)),this.groupDoors.add(s.create(e.getColorEnum().YELLOW,650,270)),this.groupLummings.add(r.create(e.getColorEnum().RED,220,150,50)),this.groupLummings.add(r.create(e.getColorEnum().GREEN,240,150,50)),this.groupLummings.add(r.create(e.getColorEnum().BLUE,260,150,50)),this.groupLummings.add(n.create(300,150,60)),this.nbLummingsWin=3,this.tabAvailableObjects=[0,0,0,0,1,0,0,1,1,1,1,1,1],d("Les rayons gamma passent à travers tout sauf le plomb. Faites attention, ils détruisent les portails de sortie");break;case 20:var l;l=g.add.sprite(0,32,"plomb"),this.groupPlatforms.add(l),l.body.checkCollision.down=!0,l.collisionsSet=!0,l.width=g.world.width,this.groupLummings.add(r.create(e.getColorEnum().RED,220,150,50)),this.groupDoors.add(s.create(e.getColorEnum().RED,650,170)),this.nbLummingsWin=1,this.tabAvailableObjects=[9,9,9,9,9,9,9,9,9,9,9,9,9];break;case 17:platformPlomb(this.groupPlatforms,300,100,500,!0,!0),platformPlomb(this.groupPlatforms,150,300,450,!0,!0),this.groupDoors.add(s.create(e.getColorEnum().RED,500,70)),this.groupDoors.add(s.create(e.getColorEnum().RED,500,270)),lum1=r.create(e.getColorEnum().WHITE,330,60,50),lum2=r.create(e.getColorEnum().RED,350,60,50),lum3=r.create(e.getColorEnum().WHITE,370,60,50),this.groupLummings.add(lum1),this.groupLummings.add(lum2),this.groupLummings.add(lum3),gamma=n.create(330,50,60),this.groupLummings.add(gamma),this.nbLummingsWin=3,this.tabAvailableObjects=[1,0,0,0,1,0,0,1,1,1,1,1,1];break;case 18:platform(this.groupPlatforms,200,120,100,!0,!0),platform(this.groupPlatforms,300,150,100,!0,!0),platform(this.groupPlatforms,200,270,100,!0,!0),platform(this.groupPlatforms,300,300,100,!0,!0),platform(this.groupPlatforms,0,400,600,!0,!1),platform(this.groupPlatforms,700,400,100,!1,!0),icePit(this,600,400,100),platform(this.groupPlatforms,600,300,200,!1,!0),this.groupDoorsRadioAura.add(u.create(400,85,150)),this.groupDoorsRadioAura.add(u.create(400,235,150)),this.groupDoors.add(s.create(e.getColorEnum().GREEN,700,365)),this.groupDoors.add(s.create(e.getColorEnum().RED,700,265)),this.groupLummings.add(r.create(e.getColorEnum().GREEN,250,80,50)),this.groupLummings.add(r.create(e.getColorEnum().RED,200,230,50)),this.groupLummings.add(i.create(0,350,50)),this.groupLummings.add(a.create(50,350,50)),this.tabAvailableObjects=[0,0,0,0,0,2,0,0,0,0,0,0,0],this.nbLummingsWin=2;break;case 19:platformPlomb(this.groupPlatforms,50,300,300,!1,!1),waterPit(this,350,300,130),platformPlomb(this.groupPlatforms,500,200,350,!1,!1),platformPlomb(this.groupPlatforms,500,500,350,!1,!1),this.groupDoors.add(s.create(e.getColorEnum().GREEN,600,168)),this.groupDoors.add(s.create(e.getColorEnum().GREEN,600,490)),this.groupLummings.add(r.create(e.getColorEnum().GREEN,50,250,50)),this.groupLummings.add(a.create(150,250,50)),this.nbLummingsWin=1,gamma=n.create(60,250,60),this.groupLummings.add(gamma),this.tabAvailableObjects=[0,0,0,2,1,0,0,0,0,0,0,0,0]}this.groupPlatforms.forEach(function(o){o.body.immovable=!0,null==o.collisionsSet&&(o.body.immovable=!0,o.body.checkCollision.down=!1,o.body.checkCollision.left=!1,o.body.checkCollision.right=!1,o.body.checkCollision.up=!0);var t=g.add.sprite(o.x,o.y,o.key,o.frame+16);t.width=o.width,t.height=o.height,t.alpha=0,t.anchor=o.anchor,o.colorClone=t})};return icePit=function(o,t,r,e){var s;o.groupElements.add(s=l.create(t,r)),s.width=e,pit(o,t,r,e)},waterPit=function(o,t,r,e){var s;o.groupElements.add(s=m.create(t,r)),s.width=e,pit(o,t,r,e)},pit=function(o,t,r,e){var s;o.groupElements.add(s=l.create(t,r)),s.width=e;var i;i=g.add.sprite(s.left,s.y,"platforms",3),i.isPb=!1,i.anchor.set(1,0),o.groupPlatforms.add(i),i.body.checkCollision.down=!1,i.body.checkCollision.left=!1,i.body.checkCollision.right=!0,i.body.checkCollision.up=!0,i.collisionsSet=!0,i=g.add.sprite(s.right,s.y,"platforms",5),i.isPb=!1,i.anchor.set(0,0),o.groupPlatforms.add(i),i.body.checkCollision.down=!1,i.body.checkCollision.left=!0,i.body.checkCollision.right=!1,i.body.checkCollision.up=!0,i.collisionsSet=!0,i=g.add.sprite(s.left,s.y+s.height,"platforms",12),i.isPb=!1,i.anchor.set(1,0),o.groupPlatforms.add(i),i.body.checkCollision.down=!1,i.body.checkCollision.left=!1,i.body.checkCollision.right=!0,i.body.checkCollision.up=!0,i.collisionsSet=!0,i=g.add.sprite(t,s.y+3*s.height/2,"platforms",12),i.height/=2,i.anchor.set(0,0),o.groupPlatforms.add(i),i.width=e,i=g.add.sprite(s.right,s.y+s.height,"platforms",10),i.anchor.set(0,0),o.groupPlatforms.add(i),i=g.add.sprite(t,s.y+s.height,"platforms",14),i.isPb=!1,i.anchor.set(0,0),o.groupPlatforms.add(i),i.width=e,i.body.checkCollision.down=!1,i.body.checkCollision.left=!1,i.body.checkCollision.right=!1,i.body.checkCollision.up=!1,i.collisionsSet=!0,s.kill()},platformPlomb=function(o,t,r,e,s,i){null==s&&(s=!0),null==i&&(i=!0);var a=g.add.sprite(0,0,"plomb"),l=a.width;a.kill();for(var u,m=0;m<Math.floor(Math.floor(e/l)/2)+1;m++)u=g.add.sprite(t+e/2-m*l,r,"plomb"),u.isPb=!0,o.add(u),u.anchor.set(0,0),u=g.add.sprite(t+e/2+m*l,r,"plomb"),u.isPb=!0,o.add(u),u.anchor.set(1,0);u=g.add.sprite(t,r,"plomb"),u.isPb=!0,s||(u.frame+=2),o.add(u),u.body.checkCollision.down=!1,u.body.checkCollision.left=s,u.body.checkCollision.right=!1,u.body.checkCollision.up=!1,u.collisionsSet=!0,u=g.add.sprite(t+e,r,"plomb"),u.isPb=!0,i||(u.frame+=4),o.add(u),u.anchor.set(1,0),u.body.checkCollision.down=!1,u.body.checkCollision.left=!1,u.body.checkCollision.right=i,u.body.checkCollision.up=!1,u.collisionsSet=!0},platform=function(o,t,r,e,s,i){null==s&&(s=!1),null==i&&(i=!1);var a=g.add.sprite(0,0,"platforms",1),l=a.width;a.kill();for(var u,m=0;m<Math.floor(Math.floor(e/l)/2)+1;m++)u=g.add.sprite(t+e/2-m*l,r,"platforms",6),u.isPb=!1,o.add(u),u.anchor.set(0,0),u=g.add.sprite(t+e/2+m*l,r,"platforms",6),u.isPb=!1,o.add(u),u.anchor.set(1,0);u=g.add.sprite(t,r,"platforms",4),u.isPb=!1,s||(u.frame+=2),o.add(u),u.body.checkCollision.down=!1,u.body.checkCollision.left=s,u.body.checkCollision.right=!1,u.body.checkCollision.up=!1,u.collisionsSet=!0,u=g.add.sprite(t+e,r,"platforms",2),u.isPb=!1,i||(u.frame+=4),o.add(u),u.anchor.set(1,0),u.body.checkCollision.down=!1,u.body.checkCollision.left=!1,u.body.checkCollision.right=i,u.body.checkCollision.up=!1,u.collisionsSet=!0},c.prototype.getPlatforms=function(){return this.groupPlatforms},c.prototype.getElements=function(){return this.groupElements},c.prototype.getLummings=function(){return this.groupLummings},c.prototype.getDoors=function(){return this.groupDoors},c.prototype.getNbLummingsWin=function(){return this.nbLummingsWin},c.prototype.getTabAvailableObjects=function(){return this.tabAvailableObjects},c.prototype.getPorteRadioAura=function(){return this.groupDoorsRadioAura},{init:function(o){g=o,g.load.spritesheet("platforms","media/img/tiles3.png",32,32),g.load.image("plomb","media/img/plombVertical.png")},create:function(o){return new c(o)}}});